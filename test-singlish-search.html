<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Singlish Search Verification Test</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        .test-section {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .search-box {
            width: 100%;
            padding: 15px;
            font-size: 18px;
            border: 2px solid #3498db;
            border-radius: 5px;
            box-sizing: border-box;
            margin-bottom: 15px;
        }
        .search-box:focus {
            outline: none;
            border-color: #2980b9;
            box-shadow: 0 0 8px rgba(52, 152, 219, 0.3);
        }
        .results {
            margin-top: 10px;
        }
        .song-match {
            padding: 12px;
            margin: 5px 0;
            background: #d4edda;
            border-left: 4px solid #28a745;
            border-radius: 4px;
        }
        .no-match {
            padding: 12px;
            margin: 5px 0;
            background: #f8d7da;
            border-left: 4px solid #dc3545;
            border-radius: 4px;
            opacity: 0.5;
        }
        .sinhala-title {
            font-size: 18px;
            font-weight: bold;
            color: #2c3e50;
        }
        .singlish-title {
            font-size: 14px;
            color: #7f8c8d;
            font-family: 'Courier New', monospace;
            margin-top: 5px;
        }
        .stats {
            background: #3498db;
            color: white;
            padding: 15px;
            border-radius: 5px;
            text-align: center;
            font-size: 18px;
            font-weight: bold;
        }
        .example-searches {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 15px 0;
        }
        .example-btn {
            padding: 8px 16px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background 0.3s;
        }
        .example-btn:hover {
            background: #2980b9;
        }
        .success {
            color: #28a745;
            font-weight: bold;
        }
        .info {
            background: #e7f3ff;
            border-left: 4px solid #2196F3;
            padding: 12px;
            margin: 15px 0;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <h1>‚úÖ Singlish Search Verification Test</h1>
    
    <div class="info">
        <strong>Instructions:</strong> Type Singlish (English letters) in the search box below to find Sinhala songs. 
        Try the example searches or type your own!
    </div>
    
    <div class="test-section">
        <h2>üîç Live Search Test</h2>
        <input type="text" class="search-box" id="liveSearch" placeholder="Type Singlish here... (e.g., oba, divya, jesus, galava, premaya)">
        
        <div class="example-searches">
            <button class="example-btn" onclick="setSearch('oba')">oba</button>
            <button class="example-btn" onclick="setSearch('divya')">divya</button>
            <button class="example-btn" onclick="setSearch('jesus')">jesus</button>
            <button class="example-btn" onclick="setSearch('yesus')">yesus</button>
            <button class="example-btn" onclick="setSearch('galava')">galava</button>
            <button class="example-btn" onclick="setSearch('premaya')">premaya</button>
            <button class="example-btn" onclick="setSearch('mawa')">mawa</button>
            <button class="example-btn" onclick="setSearch('samidu')">samidu</button>
            <button class="example-btn" onclick="setSearch('devi')">devi</button>
            <button class="example-btn" onclick="setSearch('eliya')">eliya</button>
        </div>
        
        <div class="stats" id="stats">Type something to search...</div>
        <div class="results" id="results"></div>
    </div>
    
    <div class="test-section">
        <h2>üìã All Songs with Transliterations</h2>
        <div id="allSongs"></div>
    </div>
    
    <script src="js/transliteration.js"></script>
    <script>
        // Sample songs (top 20 from your collection)
        const songs = [
            { title: "‡∂Ö‡∂≥‡∑î‡∂ª ‡∂∏‡∑ê‡∂Ø‡∑í‡∂±‡∑ä ‡∂ë‡∑Ö‡∑í‡∂∫ ‡∂ú‡∂Ω‡∂±‡∑Ä‡∑è‚Ä¶" },
            { title: "‡∂Ö‡∂¥ ‡∂Ö‡∂≠‡∂ª‡∑ö ‡∑Ä‡∑ê‡∂© ‡∑Ä‡∑É‡∂±‡∑è - ‡∂¢‡∑ì‡∑Ä‡∂∏‡∑è‡∂± ‡∂∫‡∑ö‡∑É‡∑î‡∑É‡∑ä" },
            { title: "‡∂Ö‡∂∏‡∂≠‡∂ö ‡∂ö‡∂ª‡∂±‡∑ä‡∂± ‡∂∂‡∑ë" },
            { title: "‡∂Ö‡∑Ñ‡∑É‡∑ä‡∂≠‡∂Ω‡∂∫" },
            { title: "‡∂á‡∂∫‡∑í ‡∂∫‡∑ö‡∑É‡∑î‡∂±‡∑í ‡∂∏‡∑è ‡∂±‡∑í‡∑É‡∑è" },
            { title: "‡∂â‡∂© ‡∂Ø‡∑ô‡∂±‡∑ä‡∂±‡∂∏‡∑ä ‡∑É‡∂∏‡∑í‡∂≥‡∑î‡∂±‡∑ö ‡∂∏‡∂ú‡∑ö ‡∑Ñ‡∂Ø‡∑ö" },
            { title: "‡∂î‡∂∂ ‡∂ï‡∂±‡∑ö ‡∂¥‡∑ô‡∂ª ‡∂Ø‡∑í‡∂±‡∂∫‡∂ß‡∂≠‡∑ä ‡∑Ä‡∂©‡∑è" },
            { title: "‡∂î‡∂∂ ‡∂Ø‡∑í‡∑Ä‡∑ä‚Äç‡∂∫ ‡∂¥‡∑è‡∂∏‡∑î‡∂Ω‡∑ö‚Ä¶" },
            { title: "‡∂¢‡∑ö‡∑É‡∑î‡∂±‡∑ì, ‡∂î‡∂∂ ‡∂∏‡∑è ‡∂Ω‡∂ú‡∑í‡∂±‡∑ä," },
            { title: "‡∂Ø‡∑í‡∂∫ ‡∑É‡∑ú‡∂∫‡∂±‡∑è ‡∂∏‡∑î‡∑Ä ‡∂¥‡∑ú‡∑Ä‡∑ä‡∑Ä‡∑ô‡∂ö‡∑î‡∑É‡∑ö" },
            { title: "‡∂Ø‡∑ô‡∑Ä‡∑í‡∂Ø‡∑î‡∂±‡∑í ‡∂î‡∂∂‡∂ú‡∑ö ‡∂¥‡∑ä‚Äç‡∂ª‡∑ö‡∂∏‡∂∫" },
            { title: "‡∂Ø‡∑ô‡∑Ä‡∑í‡∂≥‡∑î ‡∑É‡∑ú‡∂∫‡∂± ‡∂∏‡∂ß ‡∂ö‡∑í‡∑É‡∑í‡∂Ø‡∑è" },
            { title: "‡∂±‡∑í‡∂ª‡∂±‡∑ä‡∂≠‡∂ª‡∑ô‡∂±‡∑ä" },
            { title: "‡∂¥‡∑ä‚Äç‡∂ª‡∑Å‡∂Ç‡∑É‡∑è ‡∂∏‡∑ê‡∂Ø ‡∑Ä‡∑ê‡∂©‡∑É‡∑í‡∂ß‡∑í‡∂±‡∑è" },
            { title: "‡∂∏‡∑è ‡∑É‡∑í‡∂≠‡∂±‡∑è ‡∑Ä‡∑í‡∂Ω‡∑É‡∑í‡∂±‡∑ä ‡∑É‡∑í‡∂≠‡∂±‡∑ä‡∂±" },
            { title: "‡∂∏‡∑è‡∑Ä ‡∂ú‡∂Ω‡∑Ä‡∑è‡∂ú‡∂≠‡∑ä ‡∂Ø‡∑ô‡∑Ä‡∑í‡∂≥‡∑è ‡∂î‡∂∂‡∂∫‡∑í" },
            { title: "‡∂∏‡∑í‡∂Ø‡∑ì‡∂∏‡∑ö ‡∑Ä‡∑ì‡∂ª‡∂∫‡∑è" },
            { title: "‡∂∏‡∑î‡∂Ω‡∑î ‡∂Ö‡∑Ñ‡∑É‡∂ß‡∂≠‡∑ä ‡∑Ä‡∂©‡∑è" },
            { title: "‡∑Ä‡∂±‡∑ä‡∂±‡∂ß ‡∂î‡∂∂ ‡∂∏‡∑ô‡∂±‡∑ä" },
            { title: "‡∑Å‡∑î‡∂Ø‡∑ä‡∂∞‡∑è‡∂≠‡∑ä‡∂∏‡∑ô‡∂±‡∑í ‡∂∏‡∂∏ ‡∑É‡∑ñ‡∂Ø‡∑è‡∂±‡∂∏‡∑ä" }
        ];
        
        const liveSearch = document.getElementById('liveSearch');
        const results = document.getElementById('results');
        const stats = document.getElementById('stats');
        const allSongsDiv = document.getElementById('allSongs');
        
        // Display all songs with transliterations
        let allSongsHTML = '';
        songs.forEach((song, i) => {
            const singlish = Transliteration.toSinglish(song.title);
            allSongsHTML += `
                <div style="padding: 10px; border-bottom: 1px solid #eee;">
                    <div class="sinhala-title">${i+1}. ${song.title}</div>
                    <div class="singlish-title">‚Üí ${singlish}</div>
                </div>
            `;
        });
        allSongsDiv.innerHTML = allSongsHTML;
        
        // Live search functionality
        liveSearch.addEventListener('input', (e) => {
            const searchTerm = e.target.value.trim();
            
            if (!searchTerm) {
                results.innerHTML = '';
                stats.innerHTML = 'Type something to search...';
                return;
            }
            
            // Search using fuzzy matching
            const matches = Transliteration.searchSongs(songs, searchTerm, true);
            
            // Display stats
            stats.innerHTML = `Found <span class="success">${matches.length}</span> song(s) matching "${searchTerm}"`;
            
            // Display results
            let html = '';
            
            songs.forEach(song => {
                const isMatch = matches.some(m => m.title === song.title);
                const singlish = Transliteration.toSinglish(song.title);
                const className = isMatch ? 'song-match' : 'no-match';
                
                if (isMatch || matches.length === 0) {
                    html += `
                        <div class="${className}">
                            <div class="sinhala-title">${song.title}</div>
                            <div class="singlish-title">${singlish}</div>
                        </div>
                    `;
                }
            });
            
            results.innerHTML = html;
        });
        
        // Function to set search from example buttons
        function setSearch(term) {
            liveSearch.value = term;
            liveSearch.dispatchEvent(new Event('input'));
            liveSearch.focus();
        }
        
        // Test on page load
        console.log('Singlish Search Test Ready!');
        console.log('Total songs loaded:', songs.length);
    </script>
</body>
</html>
